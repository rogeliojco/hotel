<% layout('layout/layout.ejs') %>

<div class="container mt-5">
  <h2 class="text-center mb-5 text-uppercase">Reservas por Hotel</h2>

  <% Object.keys(agrupadas).forEach(ciudad => { %>
    <div class="card mb-4 shadow-sm bg-light text-dark border-0">
      <div class="card-header bg-primary text-white">
        <h5 class="mb-0"><i class="fas fa-city me-2"></i><%= ciudad %></h5>
      </div>
      <div class="card-body px-4">
        <table class="table table-striped table-hover">
  <thead class="table-primary">
    <tr>
      <th>Nombre</th>
      <th>Habitaci√≥n</th>
      <th>Hotel</th>
      <th>Precio/Noche</th>
      <th>Noches</th>
      <th>Total</th>
      <th>Fecha Reserva</th>
    </tr>
  </thead>
  <tbody>
    <% agrupadas[ciudad].forEach(res => { %>
      <tr>
        <td><%= res.nombre %></td>
        <td><%= res.habitaciones || '-' %></td>
        <td><%= ciudad %></td>
        <td>$<%= res.precioNoche %></td>
        <td><%= res.noches %></td>
        <td>$<%= res.precioTotal %></td>
        <td><%= res.fechaReserva %></td>
      </tr>
    <% }) %>
  </tbody>
</table>

      </div>
    </div>
  <% }) %>
</div>
